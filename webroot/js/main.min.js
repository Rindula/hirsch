function invokeServiceWorkerUpdateFlow(a){confirm("Eine neue Version der Seite ist verf\xFCgbar. Jetzt aktualisieren?")&&a.waiting&&a.waiting.postMessage("SKIP_WAITING")}"serviceWorker"in navigator&&window.addEventListener("load",async()=>{const a=await navigator.serviceWorker.register("/sw.js");a.waiting&&invokeServiceWorkerUpdateFlow(a),a.addEventListener("updatefound",()=>{a.installing&&a.installing.addEventListener("statechange",()=>{a.waiting&&(navigator.serviceWorker.controller?invokeServiceWorkerUpdateFlow(a):console.log("Service Worker initialized for the first time"))})});let b=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{b||(window.location.reload(),b=!0)})});